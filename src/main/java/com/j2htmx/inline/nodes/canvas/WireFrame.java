package com.j2htmx.inline.nodes.canvas;


import com.j2htmx.inline.nodes.nodes.NodeCreator;
import reactor.core.publisher.Mono;

import java.util.HashMap;

public abstract class WireFrame {
    protected Mono<String> page = Mono.empty();
    protected static String title;
    protected HashMap<Object, String> registry = new HashMap<>();
    protected String head =
            "<head><script src=\"https://unpkg.com/htmx.org@2.0.3\"></script>" +
                    "<style>body{font-family:'Inter',sans-serif;font-weight:400;line-height:1.7;color:#333;background-color:#f9f9f9;margin:0;padding:0}h1,h2,h3,h4,h5,h6{font-family:'Inter',sans-serif;font-weight:600;letter-spacing:.5px;text-transform:uppercase;color:#333;margin-bottom:15px;transition:color .3s ease}h1{font-size:48px}h2{font-size:36px}h3{font-size:30px}h4{font-size:24px}h5{font-size:18px}h6{font-size:16px}h1:hover,h2:hover,h3:hover,h4:hover,h5:hover,h6:hover{color:#c2185b}p{font-size:16px;line-height:1.7;margin-bottom:20px;color:#666;max-width:750px;text-align:left}a{color:#333;text-decoration:none;border-bottom:1px solid #333;transition:color .3s,border-bottom-color .3s}a:hover{color:#c2185b;border-bottom-color:#c2185b}button{font-family:'Inter',sans-serif;font-weight:600;padding:12px 24px;font-size:16px;color:#fff;background-color:#c2185b;border:none;border-radius:5px;text-transform:uppercase;cursor:pointer;transition:background-color .3s,transform .2s ease}button:hover{background-color:#a11548;transform:translateY(-3px) scale(1.05)}.input-field{width:100%;padding:12px;font-size:16px;font-family:'Inter',sans-serif;border:1px solid #ddd;border-radius:5px;margin-bottom:15px;transition:border-color .3s,box-shadow .3s}.input-field:focus{border-color:#c2185b;box-shadow:0 0 5px rgba(194,24,91,.5);outline:none}table{width:100%;border-collapse:collapse;background-color:#fff;box-shadow:3px 3px 8px rgba(0,0,0,.1);margin-bottom:30px;transition:all .3s ease}th{padding:12px;font-weight:700;background-color:#c2185b;color:#fff;text-align:left}td{padding:12px;border-top:1px solid #ddd;color:#333;font-weight:400;transition:background-color .3s ease}td:hover{background-color:#f1f1f1}.navbar{display:flex;justify-content:flex-start;align-items:center;padding:15px 30px;background-color:#c2185b;color:#fff;transition:background-color .3s ease}.navbar a{color:#fff;text-decoration:none;font-size:18px;margin-left:20px;transition:color .3s ease}.navbar a:hover{color:#ffcccb}.navbar-scroll{box-shadow:0 2px 5px rgba(0,0,0,.2)}.footer{background-color:#333;color:#fff;padding:20px 0;text-align:center;transition:background-color .3s ease}.footer a{color:#fff;text-decoration:none;transition:color .3s}.footer a:hover{color:#c2185b}.bottombar{position:fixed;bottom:0;left:0;width:100%;background-color:#333;color:#fff;text-align:center;padding:10px;transition:background-color .3s ease}.bottombar:hover{background-color:#555}.box{background-color:#fff;width:300px;border:1px solid #f0f0f0;border-radius:5px;padding:20px;margin:15px;box-shadow:3px 3px 8px rgba(0,0,0,.1);transition:transform .2s ease,box-shadow .3s ease}.box:hover{transform:translateY(-5px);box-shadow:5px 5px 15px rgba(0,0,0,.2)}@media (max-width:768px){.navbar{flex-direction:column;align-items:flex-start}.box{width:100%}}.theme-default{--primary:#c2185b;--background:#f9f9f9;--text:#333;--text-secondary:#666;--border:#ddd;--hover:#a11548}.theme-win98{--primary:#000080;--background:#c0c0c0;--text:#000;--text-secondary:#000;--border:#808080;--hover:#000080;font-family:'MS Sans Serif',sans-serif!important}.theme-win98 button{border:2px outset #fff!important;background:var(--background)!important;color:var(--text)!important;box-shadow:2px 2px 0 var(--border)!important;border-radius:0!important}.theme-win98 .box{border:2px inset #fff!important;border-radius:0!important;box-shadow:none!important}.theme-win98 .input-field{border:2px inset #fff!important;border-radius:0!important}.theme-terminal{--primary:#33ff00;--background:#1a1a1a;--text:#33ff00;--text-secondary:#33ff00;--border:#33ff00;--hover:#40ff40;font-family:'Courier New',monospace!important}.theme-terminal button{background:transparent!important;border:1px solid var(--primary)!important;color:var(--primary)!important}.theme-terminal .box{background:var(--background)!important;border:1px solid var(--primary)!important;box-shadow:none!important}.theme-terminal .input-field{background:var(--background)!important;color:var(--primary)!important;border:1px solid var(--primary)!important}.theme-synthwave{--primary:#ff71ce;--background:#2b213a;--text:#fff;--text-secondary:#b967ff;--border:#01cdfe;--hover:#b967ff;font-family:'VT323',monospace!important}.theme-synthwave button{background:transparent!important;border:2px solid var(--primary)!important;box-shadow:0 0 10px var(--border)!important}.theme-synthwave .box{background:rgba(43,33,58,0.7)!important;border:2px solid var(--primary)!important;box-shadow:0 0 20px var(--border)!important}.theme-synthwave .navbar{background:transparent!important;border-bottom:2px solid var(--primary)!important}[class*=\"theme-\"]{background-color:var(--background);color:var(--text)}[class*=\"theme-\"] h1,[class*=\"theme-\"] h2,[class*=\"theme-\"] h3,[class*=\"theme-\"] h4,[class*=\"theme-\"] h5,[class*=\"theme-\"] h6{color:var(--text)}[class*=\"theme-\"] h1:hover,[class*=\"theme-\"] h2:hover,[class*=\"theme-\"] h3:hover,[class*=\"theme-\"] h4:hover,[class*=\"theme-\"] h5:hover,[class*=\"theme-\"] h6:hover{color:var(--primary)}[class*=\"theme-\"] p{color:var(--text-secondary)}[class*=\"theme-\"] .navbar,[class*=\"theme-\"] th{background-color:var(--primary)}[class*=\"theme-\"] button:hover{background-color:var(--hover)}[class*=\"theme-\"] .input-field:focus{border-color:var(--primary);box-shadow:0 0 5px var(--primary)}</style>" +
             "<link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap\" rel=\"stylesheet\">\n" +
            "</head>";
    public Mono<String> init(NodeCreator nodeCreator) {
      page = Mono.just(registry.getOrDefault(nodeCreator.getClientId(), head.concat(nodeCreator.createPairNode())));
      return page;
    }

}
